--
-- PostgreSQL database dump
--

\restrict ArB9Vl9ZG3SHKcJBduyzwejDrIBtEjsEkJ6B4JdmIERLez7OVxTs5gEbdObYyzm

-- Dumped from database version 15.15
-- Dumped by pg_dump version 15.15

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: accounts_agence; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.accounts_agence (
    id bigint NOT NULL,
    nom character varying(200) NOT NULL,
    code character varying(20) NOT NULL,
    type_agence character varying(20) NOT NULL,
    adresse text NOT NULL,
    ville character varying(100) NOT NULL,
    region character varying(100) NOT NULL,
    telephone character varying(17) NOT NULL,
    email character varying(254) NOT NULL,
    est_active boolean NOT NULL,
    date_ouverture date,
    date_fermeture date,
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL,
    agence_parente_id bigint,
    responsable_id bigint,
    direction_id bigint
);


ALTER TABLE public.accounts_agence OWNER TO postgres;

--
-- Name: accounts_agence_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.accounts_agence ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_agence_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: accounts_direction; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.accounts_direction (
    id bigint NOT NULL,
    nom character varying(200) NOT NULL,
    code character varying(20) NOT NULL,
    description text NOT NULL,
    telephone character varying(17) NOT NULL,
    email character varying(254) NOT NULL,
    est_active boolean NOT NULL,
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL,
    directeur_id bigint
);


ALTER TABLE public.accounts_direction OWNER TO postgres;

--
-- Name: accounts_direction_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.accounts_direction ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_direction_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: accounts_profilutilisateur; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.accounts_profilutilisateur (
    id bigint NOT NULL,
    notification_email boolean NOT NULL,
    notification_sms boolean NOT NULL,
    langue character varying(10) NOT NULL,
    contact_urgence_nom character varying(200) NOT NULL,
    contact_urgence_telephone character varying(17) NOT NULL,
    notes text NOT NULL,
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL,
    utilisateur_id bigint NOT NULL
);


ALTER TABLE public.accounts_profilutilisateur OWNER TO postgres;

--
-- Name: accounts_profilutilisateur_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.accounts_profilutilisateur ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_profilutilisateur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: accounts_utilisateur; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.accounts_utilisateur (
    id bigint NOT NULL,
    password character varying(128) NOT NULL,
    last_login timestamp with time zone,
    email character varying(254) NOT NULL,
    nom_utilisateur character varying(150),
    prenom character varying(100) NOT NULL,
    nom character varying(100) NOT NULL,
    telephone character varying(17) NOT NULL,
    genre character varying(1) NOT NULL,
    date_naissance date,
    type_utilisateur character varying(30) NOT NULL,
    matricule character varying(50),
    departement character varying(100) NOT NULL,
    poste character varying(100) NOT NULL,
    photo_profil character varying(100),
    adresse text NOT NULL,
    est_actif boolean NOT NULL,
    est_personnel boolean NOT NULL,
    est_verifie boolean NOT NULL,
    est_super_utilisateur boolean NOT NULL,
    date_inscription timestamp with time zone NOT NULL,
    derniere_connexion timestamp with time zone,
    date_modification timestamp with time zone NOT NULL,
    restaurant_gere_id bigint,
    superieur_hierarchique_id bigint,
    agence_id bigint,
    direction_id bigint
);


ALTER TABLE public.accounts_utilisateur OWNER TO postgres;

--
-- Name: accounts_utilisateur_groups; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.accounts_utilisateur_groups (
    id bigint NOT NULL,
    utilisateur_id bigint NOT NULL,
    group_id integer NOT NULL
);


ALTER TABLE public.accounts_utilisateur_groups OWNER TO postgres;

--
-- Name: accounts_utilisateur_groups_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.accounts_utilisateur_groups ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_utilisateur_groups_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: accounts_utilisateur_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.accounts_utilisateur ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_utilisateur_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: accounts_utilisateur_user_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.accounts_utilisateur_user_permissions (
    id bigint NOT NULL,
    utilisateur_id bigint NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.accounts_utilisateur_user_permissions OWNER TO postgres;

--
-- Name: accounts_utilisateur_user_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.accounts_utilisateur_user_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.accounts_utilisateur_user_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_group; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group (
    id integer NOT NULL,
    name character varying(150) NOT NULL
);


ALTER TABLE public.auth_group OWNER TO postgres;

--
-- Name: auth_group_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_group_permissions; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_group_permissions (
    id bigint NOT NULL,
    group_id integer NOT NULL,
    permission_id integer NOT NULL
);


ALTER TABLE public.auth_group_permissions OWNER TO postgres;

--
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_group_permissions ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_group_permissions_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: auth_permission; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.auth_permission (
    id integer NOT NULL,
    name character varying(255) NOT NULL,
    content_type_id integer NOT NULL,
    codename character varying(100) NOT NULL
);


ALTER TABLE public.auth_permission OWNER TO postgres;

--
-- Name: auth_permission_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.auth_permission ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.auth_permission_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_admin_log; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_admin_log (
    id integer NOT NULL,
    action_time timestamp with time zone NOT NULL,
    object_id text,
    object_repr character varying(200) NOT NULL,
    action_flag smallint NOT NULL,
    change_message text NOT NULL,
    content_type_id integer,
    user_id bigint NOT NULL,
    CONSTRAINT django_admin_log_action_flag_check CHECK ((action_flag >= 0))
);


ALTER TABLE public.django_admin_log OWNER TO postgres;

--
-- Name: django_admin_log_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_admin_log ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_admin_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_content_type; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_content_type (
    id integer NOT NULL,
    app_label character varying(100) NOT NULL,
    model character varying(100) NOT NULL
);


ALTER TABLE public.django_content_type OWNER TO postgres;

--
-- Name: django_content_type_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_content_type ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_content_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_migrations; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_migrations (
    id bigint NOT NULL,
    app character varying(255) NOT NULL,
    name character varying(255) NOT NULL,
    applied timestamp with time zone NOT NULL
);


ALTER TABLE public.django_migrations OWNER TO postgres;

--
-- Name: django_migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.django_migrations ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.django_migrations_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: django_session; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.django_session (
    session_key character varying(40) NOT NULL,
    session_data text NOT NULL,
    expire_date timestamp with time zone NOT NULL
);


ALTER TABLE public.django_session OWNER TO postgres;

--
-- Name: notifications_notification; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notifications_notification (
    id integer NOT NULL,
    level character varying(20) NOT NULL,
    unread boolean NOT NULL,
    actor_object_id character varying(255) NOT NULL,
    verb character varying(255) NOT NULL,
    description text,
    target_object_id character varying(255),
    action_object_object_id character varying(255),
    "timestamp" timestamp with time zone NOT NULL,
    public boolean NOT NULL,
    action_object_content_type_id integer,
    actor_content_type_id integer NOT NULL,
    recipient_id bigint NOT NULL,
    target_content_type_id integer,
    deleted boolean NOT NULL,
    emailed boolean NOT NULL,
    data text
);


ALTER TABLE public.notifications_notification OWNER TO postgres;

--
-- Name: notifications_notification_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.notifications_notification ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.notifications_notification_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: notifs_modeleemail; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notifs_modeleemail (
    id bigint NOT NULL,
    nom character varying(200) NOT NULL,
    type_modele character varying(50) NOT NULL,
    sujet character varying(200) NOT NULL,
    corps_texte text NOT NULL,
    corps_html text NOT NULL,
    variables_disponibles jsonb NOT NULL,
    actif boolean NOT NULL,
    cree_le timestamp with time zone NOT NULL,
    modifie_le timestamp with time zone NOT NULL
);


ALTER TABLE public.notifs_modeleemail OWNER TO postgres;

--
-- Name: notifs_modeleemail_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.notifs_modeleemail ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.notifs_modeleemail_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: notifs_notification; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.notifs_notification (
    id bigint NOT NULL,
    type_notification character varying(20) NOT NULL,
    priorite character varying(10) NOT NULL,
    titre character varying(200) NOT NULL,
    message text NOT NULL,
    lien character varying(200) NOT NULL,
    texte_lien character varying(100) NOT NULL,
    est_lu boolean NOT NULL,
    lu_le timestamp with time zone,
    envoyer_email boolean NOT NULL,
    email_envoye boolean NOT NULL,
    email_envoye_le timestamp with time zone,
    envoyer_sms boolean NOT NULL,
    sms_envoye boolean NOT NULL,
    sms_envoye_le timestamp with time zone,
    modele_lie character varying(100) NOT NULL,
    id_lie integer,
    cree_le timestamp with time zone NOT NULL,
    destinataire_id bigint NOT NULL
);


ALTER TABLE public.notifs_notification OWNER TO postgres;

--
-- Name: notifs_notification_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.notifs_notification ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.notifs_notification_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: restaurants_menu; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.restaurants_menu (
    id bigint NOT NULL,
    jour_semaine character varying(20) NOT NULL,
    date date,
    nom character varying(200) NOT NULL,
    description text NOT NULL,
    plats text NOT NULL,
    est_disponible boolean NOT NULL,
    quantite_disponible integer,
    quantite_consomme integer NOT NULL,
    prix numeric(10,2) NOT NULL,
    image character varying(100),
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL,
    restaurant_id bigint NOT NULL
);


ALTER TABLE public.restaurants_menu OWNER TO postgres;

--
-- Name: restaurants_menu_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.restaurants_menu ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.restaurants_menu_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: restaurants_planningrestaurant; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.restaurants_planningrestaurant (
    id bigint NOT NULL,
    type_planning character varying(20) NOT NULL,
    date_debut date NOT NULL,
    date_fin date NOT NULL,
    est_actif boolean NOT NULL,
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL,
    agence_id bigint NOT NULL,
    cree_par_id bigint,
    restaurant_id bigint NOT NULL
);


ALTER TABLE public.restaurants_planningrestaurant OWNER TO postgres;

--
-- Name: restaurants_planningrestaurant_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.restaurants_planningrestaurant ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.restaurants_planningrestaurant_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: restaurants_reservation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.restaurants_reservation (
    id bigint NOT NULL,
    date_reservation date NOT NULL,
    quantite integer NOT NULL,
    statut character varying(20) NOT NULL,
    notes text NOT NULL,
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL,
    client_id bigint NOT NULL,
    menu_id bigint NOT NULL,
    restaurant_id bigint NOT NULL
);


ALTER TABLE public.restaurants_reservation OWNER TO postgres;

--
-- Name: restaurants_reservation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.restaurants_reservation ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.restaurants_reservation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: restaurants_restaurant; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.restaurants_restaurant (
    id bigint NOT NULL,
    nom character varying(200) NOT NULL,
    code character varying(20) NOT NULL,
    description text NOT NULL,
    adresse text NOT NULL,
    ville character varying(100) NOT NULL,
    telephone character varying(17) NOT NULL,
    email character varying(254) NOT NULL,
    statut character varying(20) NOT NULL,
    en_service_actuel boolean NOT NULL,
    logo character varying(100),
    image_couverture character varying(100),
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL
);


ALTER TABLE public.restaurants_restaurant OWNER TO postgres;

--
-- Name: restaurants_restaurant_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.restaurants_restaurant ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.restaurants_restaurant_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: settings_jourferie; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.settings_jourferie (
    id bigint NOT NULL,
    nom character varying(200) NOT NULL,
    date date NOT NULL,
    recurrent boolean NOT NULL,
    description text NOT NULL,
    actif boolean NOT NULL,
    cree_le timestamp with time zone NOT NULL,
    modifie_le timestamp with time zone NOT NULL
);


ALTER TABLE public.settings_jourferie OWNER TO postgres;

--
-- Name: settings_jourferie_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.settings_jourferie ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.settings_jourferie_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: settings_journalaudit; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.settings_journalaudit (
    id bigint NOT NULL,
    action character varying(20) NOT NULL,
    modele character varying(100) NOT NULL,
    objet_id integer,
    description text NOT NULL,
    adresse_ip inet,
    user_agent text NOT NULL,
    donnees_anciennes jsonb,
    donnees_nouvelles jsonb,
    cree_le timestamp with time zone NOT NULL,
    utilisateur_id bigint
);


ALTER TABLE public.settings_journalaudit OWNER TO postgres;

--
-- Name: settings_journalaudit_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.settings_journalaudit ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.settings_journalaudit_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: settings_parametressysteme; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.settings_parametressysteme (
    id bigint NOT NULL,
    tickets_min_par_transaction integer NOT NULL,
    tickets_max_par_transaction integer NOT NULL,
    transactions_max_par_mois integer NOT NULL,
    prix_ticket numeric(10,2) NOT NULL,
    prix_repas_complet numeric(10,2) NOT NULL,
    subvention_ticket numeric(10,2) NOT NULL,
    duree_validite_qr_code_minutes integer NOT NULL,
    autoriser_programmation_hebdomadaire boolean NOT NULL,
    autoriser_programmation_mensuelle boolean NOT NULL,
    jours_avance_min_programmation integer NOT NULL,
    envoyer_notifications_achat boolean NOT NULL,
    envoyer_notifications_consommation boolean NOT NULL,
    envoyer_notifications_programmation boolean NOT NULL,
    envoyer_notifications_menu boolean NOT NULL,
    email_notifications_expediteur character varying(254) NOT NULL,
    nom_entreprise character varying(200) NOT NULL,
    nom_mutuelle character varying(200) NOT NULL,
    email_support character varying(254) NOT NULL,
    telephone_support character varying(17) NOT NULL,
    mode_maintenance boolean NOT NULL,
    message_maintenance text NOT NULL,
    cree_le timestamp with time zone NOT NULL,
    modifie_le timestamp with time zone NOT NULL,
    modifie_par_id bigint
);


ALTER TABLE public.settings_parametressysteme OWNER TO postgres;

--
-- Name: settings_parametressysteme_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.settings_parametressysteme ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.settings_parametressysteme_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tickets_codeqr; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tickets_codeqr (
    id bigint NOT NULL,
    code character varying(255) NOT NULL,
    image_qr character varying(100),
    donnees_tickets jsonb NOT NULL,
    est_valide boolean NOT NULL,
    expire_le timestamp with time zone NOT NULL,
    est_utilise boolean NOT NULL,
    utilise_le timestamp with time zone,
    date_creation timestamp with time zone NOT NULL,
    utilisateur_id bigint NOT NULL,
    utilise_par_restaurant_id bigint
);


ALTER TABLE public.tickets_codeqr OWNER TO postgres;

--
-- Name: tickets_codeqr_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tickets_codeqr ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tickets_codeqr_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: tickets_ticket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.tickets_ticket (
    id bigint NOT NULL,
    numero_ticket character varying(50) NOT NULL,
    statut character varying(20) NOT NULL,
    date_consommation timestamp with time zone,
    valide_de date NOT NULL,
    valide_jusqua date NOT NULL,
    prix_paye numeric(10,2) NOT NULL,
    montant_subventionne numeric(10,2) NOT NULL,
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL,
    proprietaire_id bigint NOT NULL,
    restaurant_consommateur_id bigint,
    transaction_id bigint NOT NULL,
    valide_par_id bigint
);


ALTER TABLE public.tickets_ticket OWNER TO postgres;

--
-- Name: tickets_ticket_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.tickets_ticket ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.tickets_ticket_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: transactions_logconsommation; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.transactions_logconsommation (
    id bigint NOT NULL,
    date_consommation timestamp with time zone NOT NULL,
    notes text NOT NULL,
    date_creation timestamp with time zone NOT NULL,
    agence_id bigint,
    client_id bigint NOT NULL,
    menu_consomme_id bigint,
    qr_code_id bigint,
    restaurant_id bigint NOT NULL,
    ticket_id bigint NOT NULL,
    valide_par_id bigint
);


ALTER TABLE public.transactions_logconsommation OWNER TO postgres;

--
-- Name: transactions_logconsommation_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.transactions_logconsommation ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.transactions_logconsommation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: transactions_transactionticket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.transactions_transactionticket (
    id bigint NOT NULL,
    numero_transaction character varying(50) NOT NULL,
    type_transaction character varying(20) NOT NULL,
    nombre_tickets integer NOT NULL,
    premier_ticket character varying(50) NOT NULL,
    dernier_ticket character varying(50) NOT NULL,
    valide_de date,
    valide_jusqu_a date,
    prix_unitaire numeric(10,2) NOT NULL,
    subvention_par_ticket numeric(10,2) NOT NULL,
    montant_total numeric(10,2),
    subvention_totale numeric(10,2),
    mode_paiement character varying(20) NOT NULL,
    reference_paiement character varying(100) NOT NULL,
    statut character varying(20) NOT NULL,
    notes text NOT NULL,
    date_transaction timestamp with time zone NOT NULL,
    date_creation timestamp with time zone NOT NULL,
    date_modification timestamp with time zone NOT NULL,
    agence_id bigint,
    caissier_id bigint,
    client_id bigint NOT NULL
);


ALTER TABLE public.transactions_transactionticket OWNER TO postgres;

--
-- Name: transactions_transactionticket_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.transactions_transactionticket ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.transactions_transactionticket_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: accounts_agence; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.accounts_agence (id, nom, code, type_agence, adresse, ville, region, telephone, email, est_active, date_ouverture, date_fermeture, date_creation, date_modification, agence_parente_id, responsable_id, direction_id) FROM stdin;
10	Agence Siège	AG_OUA_0001	SIEGE	Ouagadougou, situé au grand marché	Ouagadougou		71882020		t	\N	\N	2026-02-19 20:33:21.00708+01	2026-02-19 20:33:21.043951+01	\N	\N	1
\.


--
-- Data for Name: accounts_direction; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.accounts_direction (id, nom, code, description, telephone, email, est_active, date_creation, date_modification, directeur_id) FROM stdin;
1	Direction Générale	DG_012026		71882020	dg.lonab@gmail.com	t	2026-02-11 16:20:54.581303+01	2026-02-11 16:20:54.581368+01	\N
3	Direction Regionale du Centre	DRC		71882020		t	2026-02-19 20:36:40.800573+01	2026-02-19 20:36:40.800606+01	\N
\.


--
-- Data for Name: accounts_profilutilisateur; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.accounts_profilutilisateur (id, notification_email, notification_sms, langue, contact_urgence_nom, contact_urgence_telephone, notes, date_creation, date_modification, utilisateur_id) FROM stdin;
4	t	f	fr				2026-02-20 02:52:11.578416+01	2026-02-20 03:05:10.346119+01	4
3	t	f	fr				2026-02-19 20:41:56.657827+01	2026-02-20 03:06:46.077707+01	3
5	t	f	fr				2026-02-20 14:43:10.869942+01	2026-02-21 08:53:25.663161+01	5
1	t	f	fr				2026-02-11 01:40:46.372973+01	2026-02-20 00:59:43.489362+01	1
\.


--
-- Data for Name: accounts_utilisateur; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.accounts_utilisateur (id, password, last_login, email, nom_utilisateur, prenom, nom, telephone, genre, date_naissance, type_utilisateur, matricule, departement, poste, photo_profil, adresse, est_actif, est_personnel, est_verifie, est_super_utilisateur, date_inscription, derniere_connexion, date_modification, restaurant_gere_id, superieur_hierarchique_id, agence_id, direction_id) FROM stdin;
5	pbkdf2_sha256$1200000$21lDfO7tzaNTB29hxJ5I9T$MA0Zx8tJqHH5PRwG3bDFXKsaR17Xgh3FM2/aRkXzEAA=	2026-02-21 08:53:25.620993+01	kontamaleandrebenilde@gmail.com	kontamaleandrebenilde	Resto	Manager	71882020	M	\N	GESTIONNAIRE_RESTAURANT	\N					t	f	f	f	2026-02-20 14:43:09.211812+01	2026-02-21 08:53:25.658933+01	2026-02-20 14:46:41.952873+01	15	\N	\N	\N
1	pbkdf2_sha256$1200000$qNRk8aAnMrJbAeuPxTS1OJ$aQ4eISKzK8rTun96TEgRVtw4RcjhJcUcXzc+zhr1UA8=	2026-02-20 00:59:43.482201+01	admin@gmail.com	admin	Admin	Admin		M	\N	SUPER_ADMIN	\N			profils/QRCode_20250805AG-0010036_1.png		t	t	f	t	2026-02-11 01:40:46.36087+01	2026-02-20 00:59:43.488124+01	2026-02-20 00:16:08.217551+01	\N	\N	\N	\N
4	pbkdf2_sha256$1200000$UdCCWnRRNCQukag7fWLdS8$c7OIDPDAmXrPIxsjpK4RHoCW114W0F1Qt+KCRWhi5E0=	2026-02-20 03:03:06.392163+01	leandrebenilde07@gmail.com	EMP_0001	Patricia	Nombré	71882020	F	2026-05-29	CLIENT	EMP_0001	Finance	Finance	profils/téléchargement.jpg	Ouagadougou _ Karpala	t	f	f	f	2026-02-20 02:52:08.934403+01	2026-02-20 03:03:06.40165+01	2026-02-20 03:05:10.330164+01	\N	\N	10	1
3	pbkdf2_sha256$1200000$lJjkHTpwuJPDCLF3jUfp3e$COdXnr0QoA53ku2iLDhkzDo7FcwePeqtIQfUtQKAbmw=	2026-02-19 21:01:51.770183+01	testeur.test@gmail.com	testeur.test	Léandre	Paré	71882020	M	2002-01-07	CAISSIER	EMP_0002	RH	Assistant	profils/photoIdentite.jpg		t	f	f	f	2026-02-19 20:41:56.638001+01	2026-02-19 21:01:51.781089+01	2026-02-20 03:06:46.070361+01	\N	\N	10	1
\.


--
-- Data for Name: accounts_utilisateur_groups; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.accounts_utilisateur_groups (id, utilisateur_id, group_id) FROM stdin;
\.


--
-- Data for Name: accounts_utilisateur_user_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.accounts_utilisateur_user_permissions (id, utilisateur_id, permission_id) FROM stdin;
\.


--
-- Data for Name: auth_group; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_group (id, name) FROM stdin;
\.


--
-- Data for Name: auth_group_permissions; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_group_permissions (id, group_id, permission_id) FROM stdin;
\.


--
-- Data for Name: auth_permission; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.auth_permission (id, name, content_type_id, codename) FROM stdin;
1	Can add log entry	1	add_logentry
2	Can change log entry	1	change_logentry
3	Can delete log entry	1	delete_logentry
4	Can view log entry	1	view_logentry
5	Can add permission	3	add_permission
6	Can change permission	3	change_permission
7	Can delete permission	3	delete_permission
8	Can view permission	3	view_permission
9	Can add group	2	add_group
10	Can change group	2	change_group
11	Can delete group	2	delete_group
12	Can view group	2	view_group
13	Can add content type	4	add_contenttype
14	Can change content type	4	change_contenttype
15	Can delete content type	4	delete_contenttype
16	Can view content type	4	view_contenttype
17	Can add session	5	add_session
18	Can change session	5	change_session
19	Can delete session	5	delete_session
20	Can view session	5	view_session
21	Can add Notification	6	add_notification
22	Can change Notification	6	change_notification
23	Can delete Notification	6	delete_notification
24	Can view Notification	6	view_notification
25	Can add Agence	7	add_agence
26	Can change Agence	7	change_agence
27	Can delete Agence	7	delete_agence
28	Can view Agence	7	view_agence
29	Can add Direction	8	add_direction
30	Can change Direction	8	change_direction
31	Can delete Direction	8	delete_direction
32	Can view Direction	8	view_direction
33	Can add Profil utilisateur	9	add_profilutilisateur
34	Can change Profil utilisateur	9	change_profilutilisateur
35	Can delete Profil utilisateur	9	delete_profilutilisateur
36	Can view Profil utilisateur	9	view_profilutilisateur
37	Can add Utilisateur	10	add_utilisateur
38	Can change Utilisateur	10	change_utilisateur
39	Can delete Utilisateur	10	delete_utilisateur
40	Can view Utilisateur	10	view_utilisateur
41	Can add Modèle d'Email	11	add_modeleemail
42	Can change Modèle d'Email	11	change_modeleemail
43	Can delete Modèle d'Email	11	delete_modeleemail
44	Can view Modèle d'Email	11	view_modeleemail
45	Can add Notification	12	add_notification
46	Can change Notification	12	change_notification
47	Can delete Notification	12	delete_notification
48	Can view Notification	12	view_notification
49	Can add Menu	13	add_menu
50	Can change Menu	13	change_menu
51	Can delete Menu	13	delete_menu
52	Can view Menu	13	view_menu
53	Can add Restaurant	16	add_restaurant
54	Can change Restaurant	16	change_restaurant
55	Can delete Restaurant	16	delete_restaurant
56	Can view Restaurant	16	view_restaurant
57	Can add Réservation	15	add_reservation
58	Can change Réservation	15	change_reservation
59	Can delete Réservation	15	delete_reservation
60	Can view Réservation	15	view_reservation
61	Can add Planning de Restaurant	14	add_planningrestaurant
62	Can change Planning de Restaurant	14	change_planningrestaurant
63	Can delete Planning de Restaurant	14	delete_planningrestaurant
64	Can view Planning de Restaurant	14	view_planningrestaurant
65	Can add Jour Férié	17	add_jourferie
66	Can change Jour Férié	17	change_jourferie
67	Can delete Jour Férié	17	delete_jourferie
68	Can view Jour Férié	17	view_jourferie
69	Can add Paramètres Système	19	add_parametressysteme
70	Can change Paramètres Système	19	change_parametressysteme
71	Can delete Paramètres Système	19	delete_parametressysteme
72	Can view Paramètres Système	19	view_parametressysteme
73	Can add Journal d'Audit	18	add_journalaudit
74	Can change Journal d'Audit	18	change_journalaudit
75	Can delete Journal d'Audit	18	delete_journalaudit
76	Can view Journal d'Audit	18	view_journalaudit
77	Can add Code QR	20	add_codeqr
78	Can change Code QR	20	change_codeqr
79	Can delete Code QR	20	delete_codeqr
80	Can view Code QR	20	view_codeqr
81	Can add Ticket	21	add_ticket
82	Can change Ticket	21	change_ticket
83	Can delete Ticket	21	delete_ticket
84	Can view Ticket	21	view_ticket
85	Can add Log de Consommation	22	add_logconsommation
86	Can change Log de Consommation	22	change_logconsommation
87	Can delete Log de Consommation	22	delete_logconsommation
88	Can view Log de Consommation	22	view_logconsommation
89	Can add Transaction de Tickets	23	add_transactionticket
90	Can change Transaction de Tickets	23	change_transactionticket
91	Can delete Transaction de Tickets	23	delete_transactionticket
92	Can view Transaction de Tickets	23	view_transactionticket
\.


--
-- Data for Name: django_admin_log; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_admin_log (id, action_time, object_id, object_repr, action_flag, change_message, content_type_id, user_id) FROM stdin;
1	2026-02-11 02:00:42.590945+01	2	Bénilde Paré (Client (Employé))	1	[{"added": {}}]	10	1
2	2026-02-11 02:02:35.344167+01	2	Bénilde Paré (Client (Employé))	2	[{"changed": {"fields": ["T\\u00e9l\\u00e9phone", "Genre", "Date de naissance", "Photo de profil", "Adresse", "Matricule"]}}]	10	1
3	2026-02-11 16:20:54.598598+01	1	Direction Générale (DG_012026)	1	[{"added": {}}]	8	1
4	2026-02-11 16:23:00.991618+01	2	Bénilde Paré (Client (Employé))	2	[{"changed": {"fields": ["Direction"]}}]	10	1
5	2026-02-19 20:55:54.865714+01	3	Léandre Paré (Caissier)	2	[{"changed": {"fields": ["password"]}}]	10	1
6	2026-02-20 03:02:47.169142+01	4	Patricia Nombré (Client (Employé))	2	[{"changed": {"fields": ["password"]}}]	10	1
7	2026-02-20 03:06:46.08399+01	3	Léandre Paré (Caissier)	2	[{"changed": {"fields": ["Matricule", "D\\u00e9partement", "Poste"]}}]	10	1
8	2026-02-20 14:46:41.967348+01	5	Resto Manager (Gestionnaire de restaurant)	2	[{"changed": {"fields": ["password"]}}]	10	1
\.


--
-- Data for Name: django_content_type; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_content_type (id, app_label, model) FROM stdin;
1	admin	logentry
2	auth	group
3	auth	permission
4	contenttypes	contenttype
5	sessions	session
6	notifications	notification
7	accounts	agence
8	accounts	direction
9	accounts	profilutilisateur
10	accounts	utilisateur
11	notifs	modeleemail
12	notifs	notification
13	restaurants	menu
14	restaurants	planningrestaurant
15	restaurants	reservation
16	restaurants	restaurant
17	settings	jourferie
18	settings	journalaudit
19	settings	parametressysteme
20	tickets	codeqr
21	tickets	ticket
22	transactions	logconsommation
23	transactions	transactionticket
\.


--
-- Data for Name: django_migrations; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_migrations (id, app, name, applied) FROM stdin;
1	contenttypes	0001_initial	2026-02-11 01:38:52.8394+01
2	contenttypes	0002_remove_content_type_name	2026-02-11 01:38:52.847513+01
3	auth	0001_initial	2026-02-11 01:38:52.916455+01
4	auth	0002_alter_permission_name_max_length	2026-02-11 01:38:52.92225+01
5	auth	0003_alter_user_email_max_length	2026-02-11 01:38:52.92754+01
6	auth	0004_alter_user_username_opts	2026-02-11 01:38:52.933493+01
7	auth	0005_alter_user_last_login_null	2026-02-11 01:38:52.939443+01
8	auth	0006_require_contenttypes_0002	2026-02-11 01:38:52.940928+01
9	auth	0007_alter_validators_add_error_messages	2026-02-11 01:38:52.946417+01
10	auth	0008_alter_user_username_max_length	2026-02-11 01:38:52.952129+01
11	auth	0009_alter_user_last_name_max_length	2026-02-11 01:38:52.957448+01
12	auth	0010_alter_group_name_max_length	2026-02-11 01:38:52.967242+01
13	auth	0011_update_proxy_permissions	2026-02-11 01:38:52.972476+01
14	auth	0012_alter_user_first_name_max_length	2026-02-11 01:38:52.978516+01
15	accounts	0001_initial	2026-02-11 01:38:53.085898+01
16	restaurants	0001_initial	2026-02-11 01:38:53.210918+01
17	accounts	0002_initial	2026-02-11 01:38:53.531756+01
18	admin	0001_initial	2026-02-11 01:38:53.57339+01
19	admin	0002_logentry_remove_auto_add	2026-02-11 01:38:53.605191+01
20	admin	0003_logentry_add_action_flag_choices	2026-02-11 01:38:53.629021+01
21	notifications	0001_initial	2026-02-11 01:38:53.674261+01
22	notifications	0002_auto_20150224_1134	2026-02-11 01:38:53.729347+01
23	notifications	0003_notification_data	2026-02-11 01:38:53.750906+01
24	notifications	0004_auto_20150826_1508	2026-02-11 01:38:53.777246+01
25	notifications	0005_auto_20160504_1520	2026-02-11 01:38:53.80572+01
26	notifications	0006_indexes	2026-02-11 01:38:53.901752+01
27	notifications	0007_add_timestamp_index	2026-02-11 01:38:53.924663+01
28	notifications	0008_index_together_recipient_unread	2026-02-11 01:38:53.945851+01
29	notifications	0009_alter_notification_options_and_more	2026-02-11 01:38:54.314933+01
30	notifications	0010_rename_notification_recipient_unread_notificatio_recipie_8bedf2_idx	2026-02-11 01:38:54.379269+01
31	notifs	0001_initial	2026-02-11 01:38:54.462853+01
32	sessions	0001_initial	2026-02-11 01:38:54.487183+01
33	settings	0001_initial	2026-02-11 01:38:54.587885+01
34	tickets	0001_initial	2026-02-11 01:38:54.692497+01
35	transactions	0001_initial	2026-02-11 01:38:54.870692+01
36	tickets	0002_initial	2026-02-11 01:38:55.138435+01
37	accounts	0003_remove_agence_capacite_max_employes_and_more	2026-02-19 19:58:25.371002+01
38	restaurants	0002_remove_restaurant_numero_enregistrement_and_more	2026-02-20 14:35:38.384232+01
39	tickets	0003_alter_ticket_valide_par	2026-02-21 12:57:36.886809+01
40	transactions	0002_alter_transactionticket_dernier_ticket_and_more	2026-02-21 12:57:36.949539+01
41	transactions	0003_alter_transactionticket_montant_total_and_more	2026-02-21 13:08:06.26598+01
42	transactions	0004_alter_transactionticket_mode_paiement_and_more	2026-02-21 13:12:00.93934+01
\.


--
-- Data for Name: django_session; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.django_session (session_key, session_data, expire_date) FROM stdin;
k9zgkipdqr9qf2snxfhgeycnib02lktb	e30:1vtA8Y:AeVUo9v4S-eh5kV_rzek80_6TJVcj8NNXMQqKOoFjQw	2026-03-05 20:56:34.975146+01
cfqx2knnt4vos0n9wqsx26tlfm3r4z1u	e30:1vtAAu:6KW-JjPvVjG0QlmP-Fs-9umhWe9KTBgth0PaSaLPK-I	2026-03-05 20:59:00.382581+01
mnxen4jfhjhwl4ay2iz3mel5ag1b58hc	.eJxVjEEOwiAQAP-yZ0PQFlh69O4byAJbixpoSptojH83JD3odWYyb3C0rZPbKi8uRRigg8Mv8xTunJuIN8rXIkLJ65K8aInYbRWXEvlx3tu_wUR1ggFUb_sgtUI8GY5Gk9FWKqP4yD702pL2FtkQRxy9jUoiSsaxhZ2NSG1audZUsuPnnJYXDPLzBW7BPu0:1vtADf:P50gwdU957r_U64oiM01XKCneY1qKsOaR1koKZK4vB0	2026-03-05 21:01:51.784838+01
tgvacne5gz386dq2bj1l8h6ee6gsu34t	.eJxVjMsOgjAQAP-lZ0PaAtLlaOLZk-dm2S6hUQrpgo8Y_92QeNDrzGReyuO6DH4Vzj4G1apK7X5Zh3ThtAmcZymQaFrTIsUt8l2K44jxespn4Zxw5MM3_jsMKINqlWMEIgQqg6bGmq6yjmprydienWHHqKGkYAFDCQiNcTUxUB807w3121RYJE7J82OO-ala_f4ALZZAwA:1vtFrG:QgPaCvco8sHO5s3trN-IgWAEKnKpuiY1N1zvyDjTdL8	2026-03-06 03:03:06.411372+01
ic3td6c0e3u4pxfnlim5dd3b19uoiyku	.eJxVjEEOwiAQAP-yZ0NKYYH26N03ENhuLWqgKW2iMf7dNOlBrzOTeYMP2zr5rfLi0wA9SDj9shjoznkXwy3kaxFU8rqkKPZEHLaKSxn4cT7av8EU6gQ9KIPaErLr4kjIbTSoGmVcIyOi1VqNypHqWHbaRMR2DBapVSytoeCc26eVa00le37OaXlB33y-Tm4-CQ:1vtQq9:Pf29PBnoz95QjEKntzWG_jTh5Ccxzl1SOAAibW7eccw	2026-03-06 14:46:41.986949+01
upiv6k4vp4mjjri35ixj9r9dsj0a38pu	.eJxVjMsKwjAQAP8lZyl5bRt6FDx78hw2yYYGbS3Z1gfiv0vBg15nhnkJj-sy-JWp-pJEL0DsflnAeKZpEzjP3GCM13VauLkVunNzGLFcjvXEVCccaf-N_w4D8iB60YHNMZsAZCy45JRUEEibmDEZkFY7CUim1ZBJtUZZzDpR5xSmEHXU25SJuVwnT4-51Kfo5fsD-kQ_5g:1vtQqV:PDeY5stWffuKzaZDEGRJgOAhQeBWq0xBrZEGkzOUnvI	2026-03-06 14:47:03.970799+01
c4mmb0prfu4t42leftwgqiwwumoqvezx	.eJxVjMsKwjAQAP8lZyl5bRt6FDx78hw2yYYGbS3Z1gfiv0vBg15nhnkJj-sy-JWp-pJEL0DsflnAeKZpEzjP3GCM13VauLkVunNzGLFcjvXEVCccaf-N_w4D8iB60YHNMZsAZCy45JRUEEibmDEZkFY7CUim1ZBJtUZZzDpR5xSmEHXU25SJuVwnT4-51Kfo5fsD-kQ_5g:1vthnp:HEulLWHbufgBdUgd0sSJEAMqdT7RSe9Itd_6Pq5D0ug	2026-03-07 08:53:25.667961+01
\.


--
-- Data for Name: notifications_notification; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notifications_notification (id, level, unread, actor_object_id, verb, description, target_object_id, action_object_object_id, "timestamp", public, action_object_content_type_id, actor_content_type_id, recipient_id, target_content_type_id, deleted, emailed, data) FROM stdin;
\.


--
-- Data for Name: notifs_modeleemail; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notifs_modeleemail (id, nom, type_modele, sujet, corps_texte, corps_html, variables_disponibles, actif, cree_le, modifie_le) FROM stdin;
\.


--
-- Data for Name: notifs_notification; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.notifs_notification (id, type_notification, priorite, titre, message, lien, texte_lien, est_lu, lu_le, envoyer_email, email_envoye, email_envoye_le, envoyer_sms, sms_envoye, sms_envoye_le, modele_lie, id_lie, cree_le, destinataire_id) FROM stdin;
\.


--
-- Data for Name: restaurants_menu; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.restaurants_menu (id, jour_semaine, date, nom, description, plats, est_disponible, quantite_disponible, quantite_consomme, prix, image, date_creation, date_modification, restaurant_id) FROM stdin;
1	LUNDI	2026-02-23	Riz - Sauce graine		Riz - Sauce graine	t	20	0	2000.00	menus/riz_sauce_graine.jpg	2026-02-22 11:09:30.346192+01	2026-02-22 11:09:30.363438+01	15
5	LUNDI	\N	Foutou banane		Foutou banane	t	15	0	2000.00	menus/Foutou_banane.jpg	2026-02-22 11:11:56.751549+01	2026-02-22 11:11:56.785421+01	15
6	LUNDI	\N	spaghetti bolognais		spaghetti bolognais	t	20	0	2000.00	menus/spaghetti_bolognais.jpg	2026-02-22 11:13:22.860115+01	2026-02-22 11:13:22.877236+01	15
7	LUNDI	\N	Salade composée		Salade composée	t	15	0	2000.00	menus/Salade_composée.jpg	2026-02-22 11:16:29.484592+01	2026-02-22 11:16:29.852675+01	15
8	MARDI	2026-02-24	Riz - Sauce feuilles		 Riz - Sauce feuilles	t	25	0	2000.00	menus/Riz_-_Sauce_feuilles.jpg	2026-02-22 11:19:32.67253+01	2026-02-22 11:19:32.683406+01	15
9	MARDI	\N	Attieké		Attieké	t	15	0	2000.00	menus/Attieké.jpg	2026-02-22 11:21:19.427955+01	2026-02-22 11:21:19.800481+01	15
\.


--
-- Data for Name: restaurants_planningrestaurant; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.restaurants_planningrestaurant (id, type_planning, date_debut, date_fin, est_actif, date_creation, date_modification, agence_id, cree_par_id, restaurant_id) FROM stdin;
2	MENSUEL	2026-02-16	2026-03-22	t	2026-02-22 11:38:30.528148+01	2026-02-22 11:38:30.528172+01	10	3	15
\.


--
-- Data for Name: restaurants_reservation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.restaurants_reservation (id, date_reservation, quantite, statut, notes, date_creation, date_modification, client_id, menu_id, restaurant_id) FROM stdin;
\.


--
-- Data for Name: restaurants_restaurant; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.restaurants_restaurant (id, nom, code, description, adresse, ville, telephone, email, statut, en_service_actuel, logo, image_couverture, date_creation, date_modification) FROM stdin;
15	Chez Simon	REST_001	Chez Simon is a cheaper 	Avenue Thomas Sankara, Ouagadougou Burkina Faso	Ouagadougou	25332146	chezsimon@gmail.com	ACTIF	f	restaurants/logos/téléchargement_1.jpg		2026-02-20 14:36:04.608979+01	2026-02-20 14:36:04.661326+01
\.


--
-- Data for Name: settings_jourferie; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.settings_jourferie (id, nom, date, recurrent, description, actif, cree_le, modifie_le) FROM stdin;
\.


--
-- Data for Name: settings_journalaudit; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.settings_journalaudit (id, action, modele, objet_id, description, adresse_ip, user_agent, donnees_anciennes, donnees_nouvelles, cree_le, utilisateur_id) FROM stdin;
\.


--
-- Data for Name: settings_parametressysteme; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.settings_parametressysteme (id, tickets_min_par_transaction, tickets_max_par_transaction, transactions_max_par_mois, prix_ticket, prix_repas_complet, subvention_ticket, duree_validite_qr_code_minutes, autoriser_programmation_hebdomadaire, autoriser_programmation_mensuelle, jours_avance_min_programmation, envoyer_notifications_achat, envoyer_notifications_consommation, envoyer_notifications_programmation, envoyer_notifications_menu, email_notifications_expediteur, nom_entreprise, nom_mutuelle, email_support, telephone_support, mode_maintenance, message_maintenance, cree_le, modifie_le, modifie_par_id) FROM stdin;
\.


--
-- Data for Name: tickets_codeqr; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tickets_codeqr (id, code, image_qr, donnees_tickets, est_valide, expire_le, est_utilise, utilise_le, date_creation, utilisateur_id, utilise_par_restaurant_id) FROM stdin;
1	d428a10a5d591de3c69f22c5bda89df93aa3f026e8b3445bbdac0a21755fe309	qrcodes/qr_4_20260221220954.png	{}	f	2026-02-21 23:12:54.432359+01	t	2026-02-21 23:11:43.462722+01	2026-02-21 23:09:54.432915+01	4	15
2	58992e3d9401c46406baed6d12904209d4cfe64ee79aca591c2486a1586537a1	qrcodes/qr_4_20260222115237.png	{}	f	2026-02-22 12:55:36.485037+01	t	2026-02-22 12:54:13.586265+01	2026-02-22 12:52:36.485687+01	4	15
3	40b45ca82ff5d11089fd697d59cd7f00e67ff72942366a5d49d8db66c18f909b	qrcodes/qr_4_20260222115443.png	{}	t	2026-02-22 12:57:42.989997+01	f	\N	2026-02-22 12:54:42.990289+01	4	\N
\.


--
-- Data for Name: tickets_ticket; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.tickets_ticket (id, numero_ticket, statut, date_consommation, valide_de, valide_jusqua, prix_paye, montant_subventionne, date_creation, date_modification, proprietaire_id, restaurant_consommateur_id, transaction_id, valide_par_id) FROM stdin;
1	202602-00001	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468807+01	2026-02-21 23:09:01.469234+01	4	\N	2	\N
2	202602-00002	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468826+01	2026-02-21 23:09:01.469245+01	4	\N	2	\N
3	202602-00003	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468836+01	2026-02-21 23:09:01.469255+01	4	\N	2	\N
4	202602-00004	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468847+01	2026-02-21 23:09:01.469267+01	4	\N	2	\N
5	202602-00005	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468856+01	2026-02-21 23:09:01.469278+01	4	\N	2	\N
6	202602-00006	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468866+01	2026-02-21 23:09:01.46929+01	4	\N	2	\N
7	202602-00007	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468876+01	2026-02-21 23:09:01.469665+01	4	\N	2	\N
8	202602-00008	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468886+01	2026-02-21 23:09:01.469687+01	4	\N	2	\N
9	202602-00009	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468897+01	2026-02-21 23:09:01.4697+01	4	\N	2	\N
10	202602-00010	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468931+01	2026-02-21 23:09:01.469712+01	4	\N	2	\N
11	202602-00011	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468945+01	2026-02-21 23:09:01.469724+01	4	\N	2	\N
12	202602-00012	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468958+01	2026-02-21 23:09:01.469736+01	4	\N	2	\N
13	202602-00013	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.468971+01	2026-02-21 23:09:01.469749+01	4	\N	2	\N
14	202602-00014	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.469104+01	2026-02-21 23:09:01.46976+01	4	\N	2	\N
15	202602-00015	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.469119+01	2026-02-21 23:09:01.469839+01	4	\N	2	\N
16	202602-00016	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.46913+01	2026-02-21 23:09:01.469896+01	4	\N	2	\N
17	202602-00017	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.469175+01	2026-02-21 23:09:01.469912+01	4	\N	2	\N
18	202602-00018	DISPONIBLE	\N	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.469194+01	2026-02-21 23:09:01.469925+01	4	\N	2	\N
20	202602-00020	CONSOMME	2026-02-21 23:11:43.453177+01	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.469216+01	2026-02-21 23:11:43.453496+01	4	15	2	5
19	202602-00019	CONSOMME	2026-02-22 12:54:13.581061+01	2026-02-01	2026-02-28	500.00	1500.00	2026-02-21 23:09:01.469206+01	2026-02-22 12:54:13.58154+01	4	15	2	5
\.


--
-- Data for Name: transactions_logconsommation; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.transactions_logconsommation (id, date_consommation, notes, date_creation, agence_id, client_id, menu_consomme_id, qr_code_id, restaurant_id, ticket_id, valide_par_id) FROM stdin;
\.


--
-- Data for Name: transactions_transactionticket; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.transactions_transactionticket (id, numero_transaction, type_transaction, nombre_tickets, premier_ticket, dernier_ticket, valide_de, valide_jusqu_a, prix_unitaire, subvention_par_ticket, montant_total, subvention_totale, mode_paiement, reference_paiement, statut, notes, date_transaction, date_creation, date_modification, agence_id, caissier_id, client_id) FROM stdin;
2	20260221-220901-4	ACHAT	20	202602-00001	202602-00020	2026-02-01	2026-02-28	500.00	1500.00	10000.00	30000.00	ESPECES		TERMINEE		2026-02-21 23:09:01.426236+01	2026-02-21 23:09:01.427642+01	2026-02-21 23:09:01.427665+01	10	3	4
\.


--
-- Name: accounts_agence_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.accounts_agence_id_seq', 10, true);


--
-- Name: accounts_direction_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.accounts_direction_id_seq', 3, true);


--
-- Name: accounts_profilutilisateur_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.accounts_profilutilisateur_id_seq', 5, true);


--
-- Name: accounts_utilisateur_groups_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.accounts_utilisateur_groups_id_seq', 1, false);


--
-- Name: accounts_utilisateur_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.accounts_utilisateur_id_seq', 5, true);


--
-- Name: accounts_utilisateur_user_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.accounts_utilisateur_user_permissions_id_seq', 1, false);


--
-- Name: auth_group_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_group_id_seq', 1, false);


--
-- Name: auth_group_permissions_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_group_permissions_id_seq', 1, false);


--
-- Name: auth_permission_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.auth_permission_id_seq', 92, true);


--
-- Name: django_admin_log_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_admin_log_id_seq', 8, true);


--
-- Name: django_content_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_content_type_id_seq', 23, true);


--
-- Name: django_migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.django_migrations_id_seq', 42, true);


--
-- Name: notifications_notification_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.notifications_notification_id_seq', 1, false);


--
-- Name: notifs_modeleemail_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.notifs_modeleemail_id_seq', 1, false);


--
-- Name: notifs_notification_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.notifs_notification_id_seq', 1, false);


--
-- Name: restaurants_menu_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.restaurants_menu_id_seq', 9, true);


--
-- Name: restaurants_planningrestaurant_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.restaurants_planningrestaurant_id_seq', 2, true);


--
-- Name: restaurants_reservation_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.restaurants_reservation_id_seq', 1, false);


--
-- Name: restaurants_restaurant_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.restaurants_restaurant_id_seq', 15, true);


--
-- Name: settings_jourferie_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.settings_jourferie_id_seq', 1, false);


--
-- Name: settings_journalaudit_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.settings_journalaudit_id_seq', 1, false);


--
-- Name: settings_parametressysteme_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.settings_parametressysteme_id_seq', 1, false);


--
-- Name: tickets_codeqr_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tickets_codeqr_id_seq', 3, true);


--
-- Name: tickets_ticket_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.tickets_ticket_id_seq', 20, true);


--
-- Name: transactions_logconsommation_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.transactions_logconsommation_id_seq', 1, false);


--
-- Name: transactions_transactionticket_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.transactions_transactionticket_id_seq', 2, true);


--
-- Name: accounts_agence accounts_agence_code_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_agence
    ADD CONSTRAINT accounts_agence_code_key UNIQUE (code);


--
-- Name: accounts_agence accounts_agence_nom_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_agence
    ADD CONSTRAINT accounts_agence_nom_key UNIQUE (nom);


--
-- Name: accounts_agence accounts_agence_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_agence
    ADD CONSTRAINT accounts_agence_pkey PRIMARY KEY (id);


--
-- Name: accounts_direction accounts_direction_code_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_direction
    ADD CONSTRAINT accounts_direction_code_key UNIQUE (code);


--
-- Name: accounts_direction accounts_direction_nom_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_direction
    ADD CONSTRAINT accounts_direction_nom_key UNIQUE (nom);


--
-- Name: accounts_direction accounts_direction_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_direction
    ADD CONSTRAINT accounts_direction_pkey PRIMARY KEY (id);


--
-- Name: accounts_profilutilisateur accounts_profilutilisateur_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_profilutilisateur
    ADD CONSTRAINT accounts_profilutilisateur_pkey PRIMARY KEY (id);


--
-- Name: accounts_profilutilisateur accounts_profilutilisateur_utilisateur_id_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_profilutilisateur
    ADD CONSTRAINT accounts_profilutilisateur_utilisateur_id_key UNIQUE (utilisateur_id);


--
-- Name: accounts_utilisateur accounts_utilisateur_email_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur
    ADD CONSTRAINT accounts_utilisateur_email_key UNIQUE (email);


--
-- Name: accounts_utilisateur_groups accounts_utilisateur_gro_utilisateur_id_group_id_941da25f_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur_groups
    ADD CONSTRAINT accounts_utilisateur_gro_utilisateur_id_group_id_941da25f_uniq UNIQUE (utilisateur_id, group_id);


--
-- Name: accounts_utilisateur_groups accounts_utilisateur_groups_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur_groups
    ADD CONSTRAINT accounts_utilisateur_groups_pkey PRIMARY KEY (id);


--
-- Name: accounts_utilisateur accounts_utilisateur_matricule_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur
    ADD CONSTRAINT accounts_utilisateur_matricule_key UNIQUE (matricule);


--
-- Name: accounts_utilisateur accounts_utilisateur_nom_utilisateur_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur
    ADD CONSTRAINT accounts_utilisateur_nom_utilisateur_key UNIQUE (nom_utilisateur);


--
-- Name: accounts_utilisateur accounts_utilisateur_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur
    ADD CONSTRAINT accounts_utilisateur_pkey PRIMARY KEY (id);


--
-- Name: accounts_utilisateur_user_permissions accounts_utilisateur_use_utilisateur_id_permissio_59447ab2_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur_user_permissions
    ADD CONSTRAINT accounts_utilisateur_use_utilisateur_id_permissio_59447ab2_uniq UNIQUE (utilisateur_id, permission_id);


--
-- Name: accounts_utilisateur_user_permissions accounts_utilisateur_user_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur_user_permissions
    ADD CONSTRAINT accounts_utilisateur_user_permissions_pkey PRIMARY KEY (id);


--
-- Name: auth_group auth_group_name_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_name_key UNIQUE (name);


--
-- Name: auth_group_permissions auth_group_permissions_group_id_permission_id_0cd325b0_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_permission_id_0cd325b0_uniq UNIQUE (group_id, permission_id);


--
-- Name: auth_group_permissions auth_group_permissions_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_pkey PRIMARY KEY (id);


--
-- Name: auth_group auth_group_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group
    ADD CONSTRAINT auth_group_pkey PRIMARY KEY (id);


--
-- Name: auth_permission auth_permission_content_type_id_codename_01ab375a_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_codename_01ab375a_uniq UNIQUE (content_type_id, codename);


--
-- Name: auth_permission auth_permission_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_pkey PRIMARY KEY (id);


--
-- Name: django_admin_log django_admin_log_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_pkey PRIMARY KEY (id);


--
-- Name: django_content_type django_content_type_app_label_model_76bd3d3b_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_app_label_model_76bd3d3b_uniq UNIQUE (app_label, model);


--
-- Name: django_content_type django_content_type_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_content_type
    ADD CONSTRAINT django_content_type_pkey PRIMARY KEY (id);


--
-- Name: django_migrations django_migrations_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_migrations
    ADD CONSTRAINT django_migrations_pkey PRIMARY KEY (id);


--
-- Name: django_session django_session_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_session
    ADD CONSTRAINT django_session_pkey PRIMARY KEY (session_key);


--
-- Name: notifications_notification notifications_notification_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications_notification
    ADD CONSTRAINT notifications_notification_pkey PRIMARY KEY (id);


--
-- Name: notifs_modeleemail notifs_modeleemail_nom_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifs_modeleemail
    ADD CONSTRAINT notifs_modeleemail_nom_key UNIQUE (nom);


--
-- Name: notifs_modeleemail notifs_modeleemail_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifs_modeleemail
    ADD CONSTRAINT notifs_modeleemail_pkey PRIMARY KEY (id);


--
-- Name: notifs_notification notifs_notification_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifs_notification
    ADD CONSTRAINT notifs_notification_pkey PRIMARY KEY (id);


--
-- Name: restaurants_menu restaurants_menu_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_menu
    ADD CONSTRAINT restaurants_menu_pkey PRIMARY KEY (id);


--
-- Name: restaurants_menu restaurants_menu_restaurant_id_jour_semaine_date_855f4837_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_menu
    ADD CONSTRAINT restaurants_menu_restaurant_id_jour_semaine_date_855f4837_uniq UNIQUE (restaurant_id, jour_semaine, date);


--
-- Name: restaurants_planningrestaurant restaurants_planningrest_restaurant_id_agence_id__bf390e8a_uniq; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_planningrestaurant
    ADD CONSTRAINT restaurants_planningrest_restaurant_id_agence_id__bf390e8a_uniq UNIQUE (restaurant_id, agence_id, date_debut, date_fin);


--
-- Name: restaurants_planningrestaurant restaurants_planningrestaurant_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_planningrestaurant
    ADD CONSTRAINT restaurants_planningrestaurant_pkey PRIMARY KEY (id);


--
-- Name: restaurants_reservation restaurants_reservation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_reservation
    ADD CONSTRAINT restaurants_reservation_pkey PRIMARY KEY (id);


--
-- Name: restaurants_restaurant restaurants_restaurant_code_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_restaurant
    ADD CONSTRAINT restaurants_restaurant_code_key UNIQUE (code);


--
-- Name: restaurants_restaurant restaurants_restaurant_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_restaurant
    ADD CONSTRAINT restaurants_restaurant_pkey PRIMARY KEY (id);


--
-- Name: settings_jourferie settings_jourferie_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.settings_jourferie
    ADD CONSTRAINT settings_jourferie_pkey PRIMARY KEY (id);


--
-- Name: settings_journalaudit settings_journalaudit_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.settings_journalaudit
    ADD CONSTRAINT settings_journalaudit_pkey PRIMARY KEY (id);


--
-- Name: settings_parametressysteme settings_parametressysteme_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.settings_parametressysteme
    ADD CONSTRAINT settings_parametressysteme_pkey PRIMARY KEY (id);


--
-- Name: tickets_codeqr tickets_codeqr_code_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_codeqr
    ADD CONSTRAINT tickets_codeqr_code_key UNIQUE (code);


--
-- Name: tickets_codeqr tickets_codeqr_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_codeqr
    ADD CONSTRAINT tickets_codeqr_pkey PRIMARY KEY (id);


--
-- Name: tickets_ticket tickets_ticket_numero_ticket_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_ticket
    ADD CONSTRAINT tickets_ticket_numero_ticket_key UNIQUE (numero_ticket);


--
-- Name: tickets_ticket tickets_ticket_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_ticket
    ADD CONSTRAINT tickets_ticket_pkey PRIMARY KEY (id);


--
-- Name: transactions_logconsommation transactions_logconsommation_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_logconsommation
    ADD CONSTRAINT transactions_logconsommation_pkey PRIMARY KEY (id);


--
-- Name: transactions_transactionticket transactions_transactionticket_numero_transaction_key; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_transactionticket
    ADD CONSTRAINT transactions_transactionticket_numero_transaction_key UNIQUE (numero_transaction);


--
-- Name: transactions_transactionticket transactions_transactionticket_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_transactionticket
    ADD CONSTRAINT transactions_transactionticket_pkey PRIMARY KEY (id);


--
-- Name: accounts_ag_code_1464ea_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_ag_code_1464ea_idx ON public.accounts_agence USING btree (code);


--
-- Name: accounts_ag_est_act_f859f0_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_ag_est_act_f859f0_idx ON public.accounts_agence USING btree (est_active);


--
-- Name: accounts_ag_ville_2e598b_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_ag_ville_2e598b_idx ON public.accounts_agence USING btree (ville);


--
-- Name: accounts_agence_agence_parente_id_c47a44ba; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_agence_agence_parente_id_c47a44ba ON public.accounts_agence USING btree (agence_parente_id);


--
-- Name: accounts_agence_code_3eb34b03_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_agence_code_3eb34b03_like ON public.accounts_agence USING btree (code varchar_pattern_ops);


--
-- Name: accounts_agence_direction_id_7509dc4f; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_agence_direction_id_7509dc4f ON public.accounts_agence USING btree (direction_id);


--
-- Name: accounts_agence_nom_336408f8_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_agence_nom_336408f8_like ON public.accounts_agence USING btree (nom varchar_pattern_ops);


--
-- Name: accounts_agence_responsable_id_18902f80; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_agence_responsable_id_18902f80 ON public.accounts_agence USING btree (responsable_id);


--
-- Name: accounts_direction_code_8e650517_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_direction_code_8e650517_like ON public.accounts_direction USING btree (code varchar_pattern_ops);


--
-- Name: accounts_direction_directeur_id_1a2a036a; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_direction_directeur_id_1a2a036a ON public.accounts_direction USING btree (directeur_id);


--
-- Name: accounts_direction_nom_198f7717_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_direction_nom_198f7717_like ON public.accounts_direction USING btree (nom varchar_pattern_ops);


--
-- Name: accounts_ut_email_7bd265_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_ut_email_7bd265_idx ON public.accounts_utilisateur USING btree (email);


--
-- Name: accounts_ut_matricu_25ca8d_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_ut_matricu_25ca8d_idx ON public.accounts_utilisateur USING btree (matricule);


--
-- Name: accounts_ut_type_ut_c4f9fb_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_ut_type_ut_c4f9fb_idx ON public.accounts_utilisateur USING btree (type_utilisateur);


--
-- Name: accounts_utilisateur_agence_id_232f52ed; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_agence_id_232f52ed ON public.accounts_utilisateur USING btree (agence_id);


--
-- Name: accounts_utilisateur_direction_id_ebf2a60a; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_direction_id_ebf2a60a ON public.accounts_utilisateur USING btree (direction_id);


--
-- Name: accounts_utilisateur_email_9ac6d2cb_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_email_9ac6d2cb_like ON public.accounts_utilisateur USING btree (email varchar_pattern_ops);


--
-- Name: accounts_utilisateur_groups_group_id_a4007cd2; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_groups_group_id_a4007cd2 ON public.accounts_utilisateur_groups USING btree (group_id);


--
-- Name: accounts_utilisateur_groups_utilisateur_id_ca92c3d8; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_groups_utilisateur_id_ca92c3d8 ON public.accounts_utilisateur_groups USING btree (utilisateur_id);


--
-- Name: accounts_utilisateur_matricule_e2296c5d_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_matricule_e2296c5d_like ON public.accounts_utilisateur USING btree (matricule varchar_pattern_ops);


--
-- Name: accounts_utilisateur_nom_utilisateur_ce3a6056_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_nom_utilisateur_ce3a6056_like ON public.accounts_utilisateur USING btree (nom_utilisateur varchar_pattern_ops);


--
-- Name: accounts_utilisateur_restaurant_gere_id_627f70fa; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_restaurant_gere_id_627f70fa ON public.accounts_utilisateur USING btree (restaurant_gere_id);


--
-- Name: accounts_utilisateur_superieur_hierarchique_id_85625aea; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_superieur_hierarchique_id_85625aea ON public.accounts_utilisateur USING btree (superieur_hierarchique_id);


--
-- Name: accounts_utilisateur_user_permissions_permission_id_6f24b1cb; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_user_permissions_permission_id_6f24b1cb ON public.accounts_utilisateur_user_permissions USING btree (permission_id);


--
-- Name: accounts_utilisateur_user_permissions_utilisateur_id_1f62d6d5; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX accounts_utilisateur_user_permissions_utilisateur_id_1f62d6d5 ON public.accounts_utilisateur_user_permissions USING btree (utilisateur_id);


--
-- Name: auth_group_name_a6ea08ec_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_name_a6ea08ec_like ON public.auth_group USING btree (name varchar_pattern_ops);


--
-- Name: auth_group_permissions_group_id_b120cbf9; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_group_id_b120cbf9 ON public.auth_group_permissions USING btree (group_id);


--
-- Name: auth_group_permissions_permission_id_84c5c92e; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_group_permissions_permission_id_84c5c92e ON public.auth_group_permissions USING btree (permission_id);


--
-- Name: auth_permission_content_type_id_2f476e4b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX auth_permission_content_type_id_2f476e4b ON public.auth_permission USING btree (content_type_id);


--
-- Name: django_admin_log_content_type_id_c4bce8eb; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_content_type_id_c4bce8eb ON public.django_admin_log USING btree (content_type_id);


--
-- Name: django_admin_log_user_id_c564eba6; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_admin_log_user_id_c564eba6 ON public.django_admin_log USING btree (user_id);


--
-- Name: django_session_expire_date_a5c62663; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_expire_date_a5c62663 ON public.django_session USING btree (expire_date);


--
-- Name: django_session_session_key_c0390e0f_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX django_session_session_key_c0390e0f_like ON public.django_session USING btree (session_key varchar_pattern_ops);


--
-- Name: notificatio_recipie_8bedf2_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notificatio_recipie_8bedf2_idx ON public.notifications_notification USING btree (recipient_id, unread);


--
-- Name: notifications_notification_action_object_content_type_7d2b8ee9; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_action_object_content_type_7d2b8ee9 ON public.notifications_notification USING btree (action_object_content_type_id);


--
-- Name: notifications_notification_actor_content_type_id_0c69d7b7; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_actor_content_type_id_0c69d7b7 ON public.notifications_notification USING btree (actor_content_type_id);


--
-- Name: notifications_notification_deleted_b32b69e6; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_deleted_b32b69e6 ON public.notifications_notification USING btree (deleted);


--
-- Name: notifications_notification_emailed_23a5ad81; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_emailed_23a5ad81 ON public.notifications_notification USING btree (emailed);


--
-- Name: notifications_notification_public_1bc30b1c; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_public_1bc30b1c ON public.notifications_notification USING btree (public);


--
-- Name: notifications_notification_recipient_id_d055f3f0; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_recipient_id_d055f3f0 ON public.notifications_notification USING btree (recipient_id);


--
-- Name: notifications_notification_target_content_type_id_ccb24d88; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_target_content_type_id_ccb24d88 ON public.notifications_notification USING btree (target_content_type_id);


--
-- Name: notifications_notification_timestamp_6a797bad; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_timestamp_6a797bad ON public.notifications_notification USING btree ("timestamp");


--
-- Name: notifications_notification_unread_cce4be30; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifications_notification_unread_cce4be30 ON public.notifications_notification USING btree (unread);


--
-- Name: notifs_modeleemail_nom_fee56f41_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifs_modeleemail_nom_fee56f41_like ON public.notifs_modeleemail USING btree (nom varchar_pattern_ops);


--
-- Name: notifs_noti_cree_le_e6774f_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifs_noti_cree_le_e6774f_idx ON public.notifs_notification USING btree (cree_le);


--
-- Name: notifs_noti_destina_22923e_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifs_noti_destina_22923e_idx ON public.notifs_notification USING btree (destinataire_id, est_lu);


--
-- Name: notifs_notification_cree_le_557bd1da; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifs_notification_cree_le_557bd1da ON public.notifs_notification USING btree (cree_le);


--
-- Name: notifs_notification_destinataire_id_e143c36b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX notifs_notification_destinataire_id_e143c36b ON public.notifs_notification USING btree (destinataire_id);


--
-- Name: restaurants_menu_restaurant_id_2b4adac7; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX restaurants_menu_restaurant_id_2b4adac7 ON public.restaurants_menu USING btree (restaurant_id);


--
-- Name: restaurants_planningrestaurant_agence_id_53691ab1; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX restaurants_planningrestaurant_agence_id_53691ab1 ON public.restaurants_planningrestaurant USING btree (agence_id);


--
-- Name: restaurants_planningrestaurant_cree_par_id_2cac1b23; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX restaurants_planningrestaurant_cree_par_id_2cac1b23 ON public.restaurants_planningrestaurant USING btree (cree_par_id);


--
-- Name: restaurants_planningrestaurant_restaurant_id_47783e67; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX restaurants_planningrestaurant_restaurant_id_47783e67 ON public.restaurants_planningrestaurant USING btree (restaurant_id);


--
-- Name: restaurants_reservation_client_id_dfdbb8ab; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX restaurants_reservation_client_id_dfdbb8ab ON public.restaurants_reservation USING btree (client_id);


--
-- Name: restaurants_reservation_menu_id_cfdf189d; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX restaurants_reservation_menu_id_cfdf189d ON public.restaurants_reservation USING btree (menu_id);


--
-- Name: restaurants_reservation_restaurant_id_caa73fc0; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX restaurants_reservation_restaurant_id_caa73fc0 ON public.restaurants_reservation USING btree (restaurant_id);


--
-- Name: restaurants_restaurant_code_ea9da4dc_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX restaurants_restaurant_code_ea9da4dc_like ON public.restaurants_restaurant USING btree (code varchar_pattern_ops);


--
-- Name: settings_jo_action_fa6a8e_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX settings_jo_action_fa6a8e_idx ON public.settings_journalaudit USING btree (action, cree_le);


--
-- Name: settings_jo_modele_fd9873_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX settings_jo_modele_fd9873_idx ON public.settings_journalaudit USING btree (modele, objet_id);


--
-- Name: settings_jo_utilisa_38e22f_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX settings_jo_utilisa_38e22f_idx ON public.settings_journalaudit USING btree (utilisateur_id, cree_le);


--
-- Name: settings_journalaudit_cree_le_cae4ea39; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX settings_journalaudit_cree_le_cae4ea39 ON public.settings_journalaudit USING btree (cree_le);


--
-- Name: settings_journalaudit_utilisateur_id_1019b53c; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX settings_journalaudit_utilisateur_id_1019b53c ON public.settings_journalaudit USING btree (utilisateur_id);


--
-- Name: settings_parametressysteme_modifie_par_id_41f020f3; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX settings_parametressysteme_modifie_par_id_41f020f3 ON public.settings_parametressysteme USING btree (modifie_par_id);


--
-- Name: tickets_cod_code_bd3ed2_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_cod_code_bd3ed2_idx ON public.tickets_codeqr USING btree (code);


--
-- Name: tickets_cod_expire__0c2cec_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_cod_expire__0c2cec_idx ON public.tickets_codeqr USING btree (expire_le);


--
-- Name: tickets_cod_utilisa_bfe27c_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_cod_utilisa_bfe27c_idx ON public.tickets_codeqr USING btree (utilisateur_id, est_valide);


--
-- Name: tickets_codeqr_code_fe441baf_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_codeqr_code_fe441baf_like ON public.tickets_codeqr USING btree (code varchar_pattern_ops);


--
-- Name: tickets_codeqr_utilisateur_id_501841e7; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_codeqr_utilisateur_id_501841e7 ON public.tickets_codeqr USING btree (utilisateur_id);


--
-- Name: tickets_codeqr_utilise_par_restaurant_id_40df9b49; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_codeqr_utilise_par_restaurant_id_40df9b49 ON public.tickets_codeqr USING btree (utilise_par_restaurant_id);


--
-- Name: tickets_tic_numero__84ef8e_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_tic_numero__84ef8e_idx ON public.tickets_ticket USING btree (numero_ticket);


--
-- Name: tickets_tic_proprie_be502a_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_tic_proprie_be502a_idx ON public.tickets_ticket USING btree (proprietaire_id, statut);


--
-- Name: tickets_tic_valide__31cdaa_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_tic_valide__31cdaa_idx ON public.tickets_ticket USING btree (valide_de, valide_jusqua);


--
-- Name: tickets_ticket_numero_ticket_bb89de50_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_ticket_numero_ticket_bb89de50_like ON public.tickets_ticket USING btree (numero_ticket varchar_pattern_ops);


--
-- Name: tickets_ticket_proprietaire_id_b25b167b; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_ticket_proprietaire_id_b25b167b ON public.tickets_ticket USING btree (proprietaire_id);


--
-- Name: tickets_ticket_restaurant_consommateur_id_a63dbb2e; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_ticket_restaurant_consommateur_id_a63dbb2e ON public.tickets_ticket USING btree (restaurant_consommateur_id);


--
-- Name: tickets_ticket_transaction_id_89c047f1; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_ticket_transaction_id_89c047f1 ON public.tickets_ticket USING btree (transaction_id);


--
-- Name: tickets_ticket_valide_par_id_255b3d63; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX tickets_ticket_valide_par_id_255b3d63 ON public.tickets_ticket USING btree (valide_par_id);


--
-- Name: transaction_client__902647_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transaction_client__902647_idx ON public.transactions_logconsommation USING btree (client_id, date_consommation);


--
-- Name: transaction_client__dbaa50_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transaction_client__dbaa50_idx ON public.transactions_transactionticket USING btree (client_id, date_transaction);


--
-- Name: transaction_date_co_c29d03_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transaction_date_co_c29d03_idx ON public.transactions_logconsommation USING btree (date_consommation);


--
-- Name: transaction_numero__1a2e5b_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transaction_numero__1a2e5b_idx ON public.transactions_transactionticket USING btree (numero_transaction);


--
-- Name: transaction_restaur_f3d31f_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transaction_restaur_f3d31f_idx ON public.transactions_logconsommation USING btree (restaurant_id, date_consommation);


--
-- Name: transaction_statut_f08c5e_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transaction_statut_f08c5e_idx ON public.transactions_transactionticket USING btree (statut);


--
-- Name: transactions_logconsommation_agence_id_c7bb01d9; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_logconsommation_agence_id_c7bb01d9 ON public.transactions_logconsommation USING btree (agence_id);


--
-- Name: transactions_logconsommation_client_id_2bdf71f1; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_logconsommation_client_id_2bdf71f1 ON public.transactions_logconsommation USING btree (client_id);


--
-- Name: transactions_logconsommation_menu_consomme_id_2ce03294; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_logconsommation_menu_consomme_id_2ce03294 ON public.transactions_logconsommation USING btree (menu_consomme_id);


--
-- Name: transactions_logconsommation_qr_code_id_fba786b5; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_logconsommation_qr_code_id_fba786b5 ON public.transactions_logconsommation USING btree (qr_code_id);


--
-- Name: transactions_logconsommation_restaurant_id_d6746999; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_logconsommation_restaurant_id_d6746999 ON public.transactions_logconsommation USING btree (restaurant_id);


--
-- Name: transactions_logconsommation_ticket_id_fe55808a; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_logconsommation_ticket_id_fe55808a ON public.transactions_logconsommation USING btree (ticket_id);


--
-- Name: transactions_logconsommation_valide_par_id_d8fa7bd6; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_logconsommation_valide_par_id_d8fa7bd6 ON public.transactions_logconsommation USING btree (valide_par_id);


--
-- Name: transactions_transactionticket_agence_id_ae459bf7; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_transactionticket_agence_id_ae459bf7 ON public.transactions_transactionticket USING btree (agence_id);


--
-- Name: transactions_transactionticket_caissier_id_8635f799; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_transactionticket_caissier_id_8635f799 ON public.transactions_transactionticket USING btree (caissier_id);


--
-- Name: transactions_transactionticket_client_id_ac0066f7; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_transactionticket_client_id_ac0066f7 ON public.transactions_transactionticket USING btree (client_id);


--
-- Name: transactions_transactionticket_numero_transaction_b59df9f7_like; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX transactions_transactionticket_numero_transaction_b59df9f7_like ON public.transactions_transactionticket USING btree (numero_transaction varchar_pattern_ops);


--
-- Name: accounts_agence accounts_agence_agence_parente_id_c47a44ba_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_agence
    ADD CONSTRAINT accounts_agence_agence_parente_id_c47a44ba_fk_accounts_ FOREIGN KEY (agence_parente_id) REFERENCES public.accounts_agence(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_agence accounts_agence_direction_id_7509dc4f_fk_accounts_direction_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_agence
    ADD CONSTRAINT accounts_agence_direction_id_7509dc4f_fk_accounts_direction_id FOREIGN KEY (direction_id) REFERENCES public.accounts_direction(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_agence accounts_agence_responsable_id_18902f80_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_agence
    ADD CONSTRAINT accounts_agence_responsable_id_18902f80_fk_accounts_ FOREIGN KEY (responsable_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_direction accounts_direction_directeur_id_1a2a036a_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_direction
    ADD CONSTRAINT accounts_direction_directeur_id_1a2a036a_fk_accounts_ FOREIGN KEY (directeur_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_profilutilisateur accounts_profilutili_utilisateur_id_41f553d1_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_profilutilisateur
    ADD CONSTRAINT accounts_profilutili_utilisateur_id_41f553d1_fk_accounts_ FOREIGN KEY (utilisateur_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_utilisateur accounts_utilisateur_agence_id_232f52ed_fk_accounts_agence_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur
    ADD CONSTRAINT accounts_utilisateur_agence_id_232f52ed_fk_accounts_agence_id FOREIGN KEY (agence_id) REFERENCES public.accounts_agence(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_utilisateur accounts_utilisateur_direction_id_ebf2a60a_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur
    ADD CONSTRAINT accounts_utilisateur_direction_id_ebf2a60a_fk_accounts_ FOREIGN KEY (direction_id) REFERENCES public.accounts_direction(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_utilisateur_groups accounts_utilisateur_groups_group_id_a4007cd2_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur_groups
    ADD CONSTRAINT accounts_utilisateur_groups_group_id_a4007cd2_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_utilisateur_user_permissions accounts_utilisateur_permission_id_6f24b1cb_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur_user_permissions
    ADD CONSTRAINT accounts_utilisateur_permission_id_6f24b1cb_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_utilisateur accounts_utilisateur_restaurant_gere_id_627f70fa_fk_restauran; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur
    ADD CONSTRAINT accounts_utilisateur_restaurant_gere_id_627f70fa_fk_restauran FOREIGN KEY (restaurant_gere_id) REFERENCES public.restaurants_restaurant(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_utilisateur accounts_utilisateur_superieur_hierarchiq_85625aea_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur
    ADD CONSTRAINT accounts_utilisateur_superieur_hierarchiq_85625aea_fk_accounts_ FOREIGN KEY (superieur_hierarchique_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_utilisateur_user_permissions accounts_utilisateur_utilisateur_id_1f62d6d5_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur_user_permissions
    ADD CONSTRAINT accounts_utilisateur_utilisateur_id_1f62d6d5_fk_accounts_ FOREIGN KEY (utilisateur_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: accounts_utilisateur_groups accounts_utilisateur_utilisateur_id_ca92c3d8_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.accounts_utilisateur_groups
    ADD CONSTRAINT accounts_utilisateur_utilisateur_id_ca92c3d8_fk_accounts_ FOREIGN KEY (utilisateur_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_group_permissions auth_group_permissio_permission_id_84c5c92e_fk_auth_perm; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissio_permission_id_84c5c92e_fk_auth_perm FOREIGN KEY (permission_id) REFERENCES public.auth_permission(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_group_permissions auth_group_permissions_group_id_b120cbf9_fk_auth_group_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_group_permissions
    ADD CONSTRAINT auth_group_permissions_group_id_b120cbf9_fk_auth_group_id FOREIGN KEY (group_id) REFERENCES public.auth_group(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: auth_permission auth_permission_content_type_id_2f476e4b_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.auth_permission
    ADD CONSTRAINT auth_permission_content_type_id_2f476e4b_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_admin_log django_admin_log_content_type_id_c4bce8eb_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_content_type_id_c4bce8eb_fk_django_co FOREIGN KEY (content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: django_admin_log django_admin_log_user_id_c564eba6_fk_accounts_utilisateur_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.django_admin_log
    ADD CONSTRAINT django_admin_log_user_id_c564eba6_fk_accounts_utilisateur_id FOREIGN KEY (user_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: notifications_notification notifications_notifi_action_object_conten_7d2b8ee9_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications_notification
    ADD CONSTRAINT notifications_notifi_action_object_conten_7d2b8ee9_fk_django_co FOREIGN KEY (action_object_content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: notifications_notification notifications_notifi_actor_content_type_i_0c69d7b7_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications_notification
    ADD CONSTRAINT notifications_notifi_actor_content_type_i_0c69d7b7_fk_django_co FOREIGN KEY (actor_content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: notifications_notification notifications_notifi_recipient_id_d055f3f0_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications_notification
    ADD CONSTRAINT notifications_notifi_recipient_id_d055f3f0_fk_accounts_ FOREIGN KEY (recipient_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: notifications_notification notifications_notifi_target_content_type__ccb24d88_fk_django_co; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifications_notification
    ADD CONSTRAINT notifications_notifi_target_content_type__ccb24d88_fk_django_co FOREIGN KEY (target_content_type_id) REFERENCES public.django_content_type(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: notifs_notification notifs_notification_destinataire_id_e143c36b_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.notifs_notification
    ADD CONSTRAINT notifs_notification_destinataire_id_e143c36b_fk_accounts_ FOREIGN KEY (destinataire_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: restaurants_menu restaurants_menu_restaurant_id_2b4adac7_fk_restauran; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_menu
    ADD CONSTRAINT restaurants_menu_restaurant_id_2b4adac7_fk_restauran FOREIGN KEY (restaurant_id) REFERENCES public.restaurants_restaurant(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: restaurants_planningrestaurant restaurants_planning_agence_id_53691ab1_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_planningrestaurant
    ADD CONSTRAINT restaurants_planning_agence_id_53691ab1_fk_accounts_ FOREIGN KEY (agence_id) REFERENCES public.accounts_agence(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: restaurants_planningrestaurant restaurants_planning_cree_par_id_2cac1b23_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_planningrestaurant
    ADD CONSTRAINT restaurants_planning_cree_par_id_2cac1b23_fk_accounts_ FOREIGN KEY (cree_par_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: restaurants_planningrestaurant restaurants_planning_restaurant_id_47783e67_fk_restauran; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_planningrestaurant
    ADD CONSTRAINT restaurants_planning_restaurant_id_47783e67_fk_restauran FOREIGN KEY (restaurant_id) REFERENCES public.restaurants_restaurant(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: restaurants_reservation restaurants_reservat_client_id_dfdbb8ab_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_reservation
    ADD CONSTRAINT restaurants_reservat_client_id_dfdbb8ab_fk_accounts_ FOREIGN KEY (client_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: restaurants_reservation restaurants_reservat_restaurant_id_caa73fc0_fk_restauran; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_reservation
    ADD CONSTRAINT restaurants_reservat_restaurant_id_caa73fc0_fk_restauran FOREIGN KEY (restaurant_id) REFERENCES public.restaurants_restaurant(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: restaurants_reservation restaurants_reservation_menu_id_cfdf189d_fk_restaurants_menu_id; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.restaurants_reservation
    ADD CONSTRAINT restaurants_reservation_menu_id_cfdf189d_fk_restaurants_menu_id FOREIGN KEY (menu_id) REFERENCES public.restaurants_menu(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: settings_journalaudit settings_journalaudi_utilisateur_id_1019b53c_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.settings_journalaudit
    ADD CONSTRAINT settings_journalaudi_utilisateur_id_1019b53c_fk_accounts_ FOREIGN KEY (utilisateur_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: settings_parametressysteme settings_parametress_modifie_par_id_41f020f3_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.settings_parametressysteme
    ADD CONSTRAINT settings_parametress_modifie_par_id_41f020f3_fk_accounts_ FOREIGN KEY (modifie_par_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: tickets_codeqr tickets_codeqr_utilisateur_id_501841e7_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_codeqr
    ADD CONSTRAINT tickets_codeqr_utilisateur_id_501841e7_fk_accounts_ FOREIGN KEY (utilisateur_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: tickets_codeqr tickets_codeqr_utilise_par_restaura_40df9b49_fk_restauran; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_codeqr
    ADD CONSTRAINT tickets_codeqr_utilise_par_restaura_40df9b49_fk_restauran FOREIGN KEY (utilise_par_restaurant_id) REFERENCES public.restaurants_restaurant(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: tickets_ticket tickets_ticket_proprietaire_id_b25b167b_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_ticket
    ADD CONSTRAINT tickets_ticket_proprietaire_id_b25b167b_fk_accounts_ FOREIGN KEY (proprietaire_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: tickets_ticket tickets_ticket_restaurant_consommat_a63dbb2e_fk_restauran; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_ticket
    ADD CONSTRAINT tickets_ticket_restaurant_consommat_a63dbb2e_fk_restauran FOREIGN KEY (restaurant_consommateur_id) REFERENCES public.restaurants_restaurant(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: tickets_ticket tickets_ticket_transaction_id_89c047f1_fk_transacti; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_ticket
    ADD CONSTRAINT tickets_ticket_transaction_id_89c047f1_fk_transacti FOREIGN KEY (transaction_id) REFERENCES public.transactions_transactionticket(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: tickets_ticket tickets_ticket_valide_par_id_255b3d63_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.tickets_ticket
    ADD CONSTRAINT tickets_ticket_valide_par_id_255b3d63_fk_accounts_ FOREIGN KEY (valide_par_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_logconsommation transactions_logcons_agence_id_c7bb01d9_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_logconsommation
    ADD CONSTRAINT transactions_logcons_agence_id_c7bb01d9_fk_accounts_ FOREIGN KEY (agence_id) REFERENCES public.accounts_agence(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_logconsommation transactions_logcons_client_id_2bdf71f1_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_logconsommation
    ADD CONSTRAINT transactions_logcons_client_id_2bdf71f1_fk_accounts_ FOREIGN KEY (client_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_logconsommation transactions_logcons_menu_consomme_id_2ce03294_fk_restauran; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_logconsommation
    ADD CONSTRAINT transactions_logcons_menu_consomme_id_2ce03294_fk_restauran FOREIGN KEY (menu_consomme_id) REFERENCES public.restaurants_menu(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_logconsommation transactions_logcons_qr_code_id_fba786b5_fk_tickets_c; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_logconsommation
    ADD CONSTRAINT transactions_logcons_qr_code_id_fba786b5_fk_tickets_c FOREIGN KEY (qr_code_id) REFERENCES public.tickets_codeqr(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_logconsommation transactions_logcons_restaurant_id_d6746999_fk_restauran; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_logconsommation
    ADD CONSTRAINT transactions_logcons_restaurant_id_d6746999_fk_restauran FOREIGN KEY (restaurant_id) REFERENCES public.restaurants_restaurant(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_logconsommation transactions_logcons_ticket_id_fe55808a_fk_tickets_t; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_logconsommation
    ADD CONSTRAINT transactions_logcons_ticket_id_fe55808a_fk_tickets_t FOREIGN KEY (ticket_id) REFERENCES public.tickets_ticket(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_logconsommation transactions_logcons_valide_par_id_d8fa7bd6_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_logconsommation
    ADD CONSTRAINT transactions_logcons_valide_par_id_d8fa7bd6_fk_accounts_ FOREIGN KEY (valide_par_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_transactionticket transactions_transac_agence_id_ae459bf7_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_transactionticket
    ADD CONSTRAINT transactions_transac_agence_id_ae459bf7_fk_accounts_ FOREIGN KEY (agence_id) REFERENCES public.accounts_agence(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_transactionticket transactions_transac_caissier_id_8635f799_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_transactionticket
    ADD CONSTRAINT transactions_transac_caissier_id_8635f799_fk_accounts_ FOREIGN KEY (caissier_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- Name: transactions_transactionticket transactions_transac_client_id_ac0066f7_fk_accounts_; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.transactions_transactionticket
    ADD CONSTRAINT transactions_transac_client_id_ac0066f7_fk_accounts_ FOREIGN KEY (client_id) REFERENCES public.accounts_utilisateur(id) DEFERRABLE INITIALLY DEFERRED;


--
-- PostgreSQL database dump complete
--

\unrestrict ArB9Vl9ZG3SHKcJBduyzwejDrIBtEjsEkJ6B4JdmIERLez7OVxTs5gEbdObYyzm

