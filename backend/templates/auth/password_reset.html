{% extends 'base.html' %}
{% load static %}

{% block title %}Réinitialiser le mot de passe - LONAB MUTRALO{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/auth.css' %}">
{% endblock %}

{% block body %}
<div class="auth-wrapper">
    <div class="auth-container">
        <!-- Section Illustration -->
        <div class="auth-illustration">
            <div class="auth-logo">
                <i class="fas fa-key"></i>
            </div>
            <h1>Mot de passe oublié ?</h1>
            <p>Pas de souci ! Entrez votre adresse email et nous vous enverrons un lien pour réinitialiser votre mot de passe.</p>
        </div>

        <!-- Section Formulaire -->
        <div class="auth-form-container">
            <div class="auth-form-header">
                <h2>Réinitialisation</h2>
                <p>Récupérez l'accès à votre compte</p>
            </div>

            {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }}">
                    <i class="fas fa-{% if message.tags == 'error' %}exclamation-circle{% elif message.tags == 'success' %}check-circle{% else %}info-circle{% endif %}"></i>
                    {{ message }}
                </div>
                {% endfor %}
            {% endif %}

            <form method="post" action="{% url 'password_reset' %}" class="auth-form">
                {% csrf_token %}

                <div class="form-group">
                    <label for="email" class="form-label">Adresse email</label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        class="form-control"
                        placeholder="votre.email@lonab.com"
                        required
                        autocomplete="email"
                    >
                </div>

                <button type="submit" class="auth-submit">
                    <i class="fas fa-paper-plane"></i>
                    Envoyer le lien de réinitialisation
                </button>
            </form>

            <div class="auth-divider">
                <span>ou</span>
            </div>

            <div class="auth-footer">
                <a href="{% url 'login' %}" style="display: flex; align-items: center; justify-content: center; gap: 8px;">
                    <i class="fas fa-arrow-left"></i>
                    Retour à la connexion
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
// Auto-hide alerts after 5 seconds
document.addEventListener('DOMContentLoaded', function() {
    const alerts = document.querySelectorAll('.alert');
    alerts.forEach(alert => {
        setTimeout(() => {
            alert.style.opacity = '0';
            setTimeout(() => alert.remove(), 300);
        }, 5000);
    });
});
</script>
{% endblock %}